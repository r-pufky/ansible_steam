---
###############################################################################
# Default Steam Package Dependencies
###############################################################################
# Default required packages for Steam install.
#
# Updates:
# * Version is determined by debian package.
# * New MAJOR, MINOR releases should hard branch at version before starting
#   (e.g. 2.14.x branch).
# * Keep a separate change log as changes are made, you will not remember all
#   of them.
# * Update role defaults (includes updating defaults, tasks):
#   * Use configuration docs to add new variables.
#   * Use defaults/ to remove any changed/deprecated variables.
# * Update tests for any changes.
# * Standard role validation testing (yamllint, ansible-lint, todo, noqa).
# * Tag with OS-APP-ROLE version.
#
# Reference:
# * https://forums.alliedmods.net/showthread.php?t=300118
# * https://github.com/ValveSoftware/steam-for-linux/issues/7036

steam_role_validate_date: '2025-08-24'
steam_role_validate_release: 'trixie'
steam_role_validate_version: '0~20180105-5'
steam_role_wine_release: 'stable'
steam_role_winetricks_release: '20250102'

###############################################################################
# APT Packages
###############################################################################

steam_role_packages:
  - 'gnupg2'
  - 'tar'
  - 'xz-utils'
  - 'steamcmd'

steam_role_apt_sources:
  - name: 'debian'
    types:
      - 'deb'
      - 'deb-src'
    uris: 'http://deb.debian.org/debian'
    suites:
      - 'trixie'
      - 'trixie-updates'
      - 'trixie-backports'
    components:
      - 'main'
      - 'contrib'
      - 'non-free'
      - 'non-free-firmware'
    signed_by: '/usr/share/keyrings/debian-archive-keyring.gpg'
  - name: 'debian-security'
    types:
      - 'deb'
      - 'deb-src'
    uris: 'http://deb.debian.org/debian-security'
    suites:
      - 'trixie-security'
    components:
      - 'main'
      - 'contrib'
      - 'non-free'
      - 'non-free-firmware'
    signed_by: '/usr/share/keyrings/debian-archive-keyring.gpg'

###############################################################################
# Wine Options
###############################################################################

steam_role_wine_packages:
  - 'xvfb'  # Lightweight window manager.
  - 'winbind'  # Windows user/group resolution.
  - 'libasound2-plugins'  # asound.
  - 'libasound2-plugins:i386'  # asound i386.

steam_role_wine_sources:
  - name: 'winehq'
    types:
      - 'deb'
    uris: 'https://dl.winehq.org/wine-builds/debian'
    suites:
      - 'trixie'
    components:
      - 'main'
    architectures:
      - 'amd64'
      - 'i386'
    signed_by: 'https://dl.winehq.org/wine-builds/winehq.key'

###############################################################################
# Winetricks GitHub Options
###############################################################################
# Winetricks releases source downloads.
#
# wget https://dl.winehq.org/wine-builds/winehq.key
# gpg --show-keys winehq.key
#
# Reference:
# * https://dl.winehq.org/wine-builds
# * https://github.com/Winetricks/winetricks/releases

steam_role_repo_release_owner: 'Winetricks'
steam_role_repo_release_repo: 'winetricks'
steam_role_repo_extract_dir: '/opt/winetricks'
steam_role_repo_extract_symlink: '/opt/winetricks/winetricks'
steam_role_repo_release_asset: '{VERSION}.tar.gz'
steam_role_repo_release_gpg_key_id: 'D43F640145369C51D786DDEA76F1A20FF987672F'

###############################################################################
# Default Steam User/Group
###############################################################################

steam_role_group:
  name: 'steam'
  gid: 51000

steam_role_user:
  name: 'steam'
  group: 'steam'
  uid: 51000
  shell: '/bin/bash'
  home: '/home/steam'
  create_home: true
  password: '*'
  password_lock: true
  update_password: 'always'
  expires: -1

###############################################################################
# Mod Options
###############################################################################

steam_role_sourcemod_dest: '/opt/sourcemod'
steam_role_sourcemod_url: 'https://sm.alliedmods.net/smdrop/'
steam_role_metamod_dest: '/opt/metamod'
steam_role_metamod_url: 'https://mms.alliedmods.net/mmsdrop/'
